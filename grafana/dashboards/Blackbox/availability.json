{"annotations": {"list": [{"builtIn": 1, "datasource": {"type": "grafana", "uid": "-- Grafana --"}, "enable": true, "hide": true, "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "type": "dashboard"}]}, "editable": true, "fiscalYearStartMonth": 0, "graphTooltip": 0, "links": [], "panels": [{"datasource": "Prometheus", "fieldConfig": {"defaults": {"mappings": [], "max": 100, "min": 0, "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "yellow", "value": 98}, {"color": "green", "value": 100}]}, "unit": "percent"}, "overrides": []}, "gridPos": {"h": 7, "w": 6, "x": 0, "y": 0}, "id": 1, "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "showPercentChange": false, "textMode": "auto", "wideLayout": true}, "pluginVersion": "10.4.5", "targets": [{"datasource": "Prometheus", "editorMode": "code", "expr": "bb:icmp:avail:ratio:5m{name=~\"$target\"} * 100", "instant": true, "legendFormat": "{{name}}", "refId": "A"}], "title": "ICMP availability (5m, %)", "type": "stat"}, {"datasource": "Prometheus", "description": "", "fieldConfig": {"defaults": {"mappings": [], "max": 100, "min": 0, "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "yellow", "value": 98}, {"color": "green", "value": 100}]}, "unit": "percent"}, "overrides": []}, "gridPos": {"h": 7, "w": 6, "x": 6, "y": 0}, "id": 2, "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "showPercentChange": false, "textMode": "auto", "wideLayout": true}, "pluginVersion": "10.4.5", "targets": [{"datasource": "Prometheus", "editorMode": "code", "expr": "bb:tcp443:avail:ratio:2m{name=~\"$target\"} * 100", "instant": true, "legendFormat": "{{name}}", "refId": "A"}], "title": "TCP 443 availability (2m, %)", "type": "stat"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisBorderShow": false, "axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "insertNulls": false, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 200}]}, "unit": "ms"}, "overrides": []}, "gridPos": {"h": 7, "w": 12, "x": 12, "y": 0}, "id": 3, "options": {"legend": {"calcs": ["last"], "displayMode": "table", "placement": "right", "showLegend": true, "sortBy": "Last", "sortDesc": true}, "tooltip": {"mode": "single", "sort": "none"}}, "targets": [{"datasource": "Prometheus", "editorMode": "code", "expr": "bb:icmp:rtt:p95:5m{name=~\"$target\"} * 1000", "legendFormat": "{{name}}", "range": true, "refId": "A"}], "title": "ICMP RTT p95 (ms)", "type": "timeseries"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisBorderShow": false, "axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "insertNulls": false, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 5}]}, "unit": "percent"}, "overrides": []}, "gridPos": {"h": 7, "w": 12, "x": 0, "y": 7}, "id": 4, "options": {"legend": {"calcs": ["lastNotNull"], "displayMode": "table", "placement": "right", "showLegend": true, "sortBy": "Last *", "sortDesc": true}, "tooltip": {"mode": "single", "sort": "none"}}, "targets": [{"datasource": "Prometheus", "editorMode": "code", "expr": "bb:icmp:loss:ratio:5m{name=~\"$target\"} * 100", "legendFormat": "{{name}}", "range": true, "refId": "A"}], "title": "ICMP packet loss (%, 5m)", "type": "timeseries"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisBorderShow": false, "axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "insertNulls": false, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 30}, {"color": "red", "value": 50}]}, "unit": "ms"}, "overrides": []}, "gridPos": {"h": 7, "w": 12, "x": 12, "y": 7}, "id": 5, "options": {"legend": {"calcs": ["lastNotNull"], "displayMode": "table", "placement": "right", "showLegend": true, "sortBy": "Last *", "sortDesc": true}, "tooltip": {"mode": "single", "sort": "none"}}, "targets": [{"datasource": "Prometheus", "editorMode": "code", "exemplar": false, "expr": "bb:icmp:rtt:stddev:5m{name=~\"$target\"} * 1000", "legendFormat": "{{name}}", "range": true, "refId": "A"}], "title": "ICMP jitter (ms, stdev)", "type": "timeseries"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisBorderShow": false, "axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "insertNulls": false, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 300}]}, "unit": "ms"}, "overrides": []}, "gridPos": {"h": 9, "w": 12, "x": 0, "y": 14}, "id": 6, "options": {"legend": {"calcs": ["lastNotNull"], "displayMode": "table", "placement": "right", "showLegend": true, "sortBy": "Last *", "sortDesc": true}, "tooltip": {"mode": "single", "sort": "none"}}, "targets": [{"datasource": "Prometheus", "editorMode": "code", "expr": "bb:tcp443:latency:p95:5m{name=~\"$target\"} * 1000", "legendFormat": "{{name}}", "range": true, "refId": "A"}], "title": "TCP 443 latency p95 (ms)", "type": "timeseries"}, {"datasource": "Prometheus", "description": "Top 5 worst RTT (p95, ms)", "fieldConfig": {"defaults": {"mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "ms"}, "overrides": []}, "gridPos": {"h": 9, "w": 12, "x": 12, "y": 14}, "id": 7, "options": {"displayMode": "gradient", "maxVizHeight": 300, "minVizHeight": 16, "minVizWidth": 8, "namePlacement": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "showUnfilled": true, "sizing": "auto", "valueMode": "color"}, "pluginVersion": "10.4.5", "targets": [{"datasource": "Prometheus", "editorMode": "code", "expr": "topk(5, bb:icmp:rtt:p95:5m * 1000)", "instant": true, "legendFormat": "{{name}}", "refId": "A"}], "title": "Top 5 worst RTT (p95, ms)", "type": "bargauge"}], "refresh": "10s", "schemaVersion": 39, "tags": ["availability", "icmp", "tcp443"], "templating": {"list": [{"allValue": ".*", "current": {"selected": false, "text": "All", "value": "$__all"}, "datasource": "Prometheus", "definition": "label_values(bb:icmp:avail:ratio:5m,name)", "hide": 0, "includeAll": true, "label": "Target (instance)", "multi": true, "name": "target", "options": [], "query": {"qryType": 1, "query": "label_values(bb:icmp:avail:ratio:5m,name)", "refId": "PrometheusVariableQueryEditor-VariableQuery"}, "refresh": 2, "regex": "", "skipUrlSync": false, "sort": 0, "type": "query"}]}, "time": {"from": "now-6h", "to": "now"}, "timepicker": {"refresh_intervals": ["5s", "10s", "30s", "1m", "5m"]}, "timezone": "", "title": "Availability", "uid": "availability", "version": 5, "weekStart": ""}