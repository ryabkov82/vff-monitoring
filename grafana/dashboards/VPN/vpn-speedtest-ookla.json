{"annotations": {"list": [{"builtIn": 1, "datasource": {"type": "grafana", "uid": "-- Grafana --"}, "enable": true, "hide": true, "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "type": "dashboard"}]}, "editable": true, "fiscalYearStartMonth": 0, "graphTooltip": 0, "links": [], "panels": [{"datasource": "Prometheus", "fieldConfig": {"defaults": {"decimals": 0, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "Mbps"}, "overrides": []}, "gridPos": {"h": 6, "w": 8, "x": 0, "y": 0}, "id": 1, "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "showPercentChange": false, "textMode": "auto", "wideLayout": true}, "pluginVersion": "10.4.5", "targets": [{"datasource": "Prometheus", "expr": "node:internet_download_bps:latest{name=\"$node\"} / 1e6", "legendFormat": "{{name}}", "refId": "A"}], "title": "Download (latest, Mbps)", "type": "stat"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"decimals": 0, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "Mbps"}, "overrides": []}, "gridPos": {"h": 6, "w": 8, "x": 8, "y": 0}, "id": 2, "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "showPercentChange": false, "textMode": "auto", "wideLayout": true}, "pluginVersion": "10.4.5", "targets": [{"datasource": "Prometheus", "expr": "node:internet_upload_bps:latest{name=\"$node\"} / 1e6", "legendFormat": "{{name}}", "refId": "A"}], "title": "Upload (latest, Mbps)", "type": "stat"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"decimals": 1, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "ms"}, "overrides": []}, "gridPos": {"h": 6, "w": 8, "x": 16, "y": 0}, "id": 3, "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "showPercentChange": false, "textMode": "auto", "wideLayout": true}, "pluginVersion": "10.4.5", "targets": [{"datasource": "Prometheus", "editorMode": "code", "expr": "last_over_time(vpn_speed_ping_seconds{name=\"$node\",method=\"$method\"}[24h]) * 1000", "legendFormat": "{{name}} - {{server}}", "range": true, "refId": "A"}], "title": "Ping (latest, ms)", "type": "stat"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisBorderShow": false, "axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "insertNulls": false, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": true, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "decimals": 0, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "Mbps"}, "overrides": [{"__systemRef": "hideSeriesFrom", "matcher": {"id": "byNames", "options": {"mode": "exclude", "names": ["nl-ams-3 \u2014 Sharktech Inc."], "prefix": "All except:", "readOnly": true}}, "properties": [{"id": "custom.hideFrom", "value": {"legend": false, "tooltip": false, "viz": true}}]}]}, "gridPos": {"h": 8, "w": 11, "x": 0, "y": 6}, "id": 7, "options": {"legend": {"calcs": ["lastNotNull"], "displayMode": "table", "placement": "bottom", "showLegend": true}, "tooltip": {"mode": "multi", "sort": "none"}}, "targets": [{"datasource": "Prometheus", "editorMode": "code", "expr": "vpn_speed_download_bps{name=\"$node\",method=\"$method\"} / 1e6", "legendFormat": "{{name}} \u2014 {{server}}", "range": true, "refId": "A"}], "title": "Download history (30d, Mbps)", "type": "timeseries"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisBorderShow": false, "axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "insertNulls": false, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": true, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "decimals": 0, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "Mbps"}, "overrides": []}, "gridPos": {"h": 8, "w": 13, "x": 11, "y": 6}, "id": 8, "options": {"legend": {"calcs": ["lastNotNull"], "displayMode": "table", "placement": "bottom", "showLegend": true}, "tooltip": {"mode": "multi", "sort": "none"}}, "targets": [{"datasource": "Prometheus", "expr": "vpn_speed_upload_bps{name=\"$node\",method=\"$method\"} / 1e6", "legendFormat": "{{name}} \u2014 {{server}}", "refId": "A"}], "title": "Upload history (30d, Mbps)", "type": "timeseries"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"mappings": [], "max": 1, "min": 0, "thresholds": {"mode": "percentage", "steps": [{"color": "red", "value": null}, {"color": "red", "value": 0.7}, {"color": "yellow", "value": 0.9}, {"color": "green", "value": 0.999}]}, "unit": "percentunit"}, "overrides": []}, "gridPos": {"h": 9, "w": 8, "x": 0, "y": 14}, "id": 4, "options": {"minVizHeight": 75, "minVizWidth": 75, "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "showThresholdLabels": true, "showThresholdMarkers": true, "sizing": "auto"}, "pluginVersion": "10.4.5", "targets": [{"datasource": "Prometheus", "expr": "node:internet_download_ratio:latest_vs_baseline7d{name=\"$node\"}", "legendFormat": "{{name}}", "refId": "A"}], "title": "Download ratio vs baseline (7d p75)", "type": "gauge"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"mappings": [], "max": 1, "min": 0, "thresholds": {"mode": "percentage", "steps": [{"color": "red", "value": null}, {"color": "red", "value": 0.7}, {"color": "yellow", "value": 0.9}, {"color": "green", "value": 0.999}]}, "unit": "percentunit"}, "overrides": []}, "gridPos": {"h": 9, "w": 8, "x": 8, "y": 14}, "id": 5, "options": {"minVizHeight": 75, "minVizWidth": 75, "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "showThresholdLabels": true, "showThresholdMarkers": true, "sizing": "auto"}, "pluginVersion": "10.4.5", "targets": [{"datasource": "Prometheus", "expr": "node:internet_upload_ratio:latest_vs_baseline7d{name=\"$node\"}", "legendFormat": "{{name}}", "refId": "A"}], "title": "Upload ratio vs baseline (7d p75)", "type": "gauge"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"decimals": 1, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 24}, {"color": "red", "value": 48}]}, "unit": "h"}, "overrides": []}, "gridPos": {"h": 9, "w": 8, "x": 16, "y": 14}, "id": 6, "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "showPercentChange": false, "textMode": "auto", "wideLayout": true}, "pluginVersion": "10.4.5", "targets": [{"datasource": "Prometheus", "expr": "node:internet_speed_last_age_seconds{name=\"$node\"} / 3600", "legendFormat": "{{name}}", "refId": "A"}], "title": "Last run age (hours)", "type": "stat"}], "refresh": "5m", "schemaVersion": 39, "tags": ["vpn", "speedtest", "network"], "templating": {"list": [{"current": {"selected": false, "text": "All", "value": "$__all"}, "datasource": "Prometheus", "definition": "", "hide": 0, "includeAll": false, "label": "Node (name)", "multi": false, "name": "node", "options": [], "query": "label_values(node:internet_download_bps:latest, name)", "refresh": 1, "regex": "", "skipUrlSync": false, "sort": 0, "type": "query"}, {"current": {"selected": true, "text": "ookla", "value": "ookla"}, "hide": 0, "includeAll": false, "label": "Method", "multi": false, "name": "method", "options": [{"selected": true, "text": "ookla", "value": "ookla"}], "query": "ookla", "skipUrlSync": false, "type": "custom"}]}, "time": {"from": "now-30d", "to": "now"}, "timepicker": {}, "timezone": "browser", "title": "VPN \u2014 Speedtest (Ookla)", "uid": "vpn-speedtest-ookla", "version": 2, "weekStart": ""}